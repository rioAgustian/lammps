units real
atom_style full
bond_style harmonic
angle_style harmonic
dihedral_style harmonic
pair_style lj/cut/coul/long 10
kspace_style ewald 1e-5
special_bonds lj 0.0 0.0 0.5 coul 0.0 0.0 1.0 angle yes

region box block -30 30 -15 15 -15 15
create_box 8 box bond/types 7 angle/types 8 dihedral/types 4 extra/bond/per/atom 3 &
	extra/angle/per/atom 6 extra/dihedral/per/atom 10 extra/special/per/atom 14

include parameters.inc

molecule h2omol water.mol
create_atoms 0 random 700 87910 NULL mol h2omol 454756 overlap 1.0 maxtry 50

group H2O type OW HW
minimize 1.0e-4 1.0e-6 100 1000
reset_timestep 0

fix mynpt all npt temp 300 300 100 iso 1 1 1000

thermo 500
thermo_style custom step temp etotal vol density

variable mystep equal step
variable mytemp equal temp
variable myetotal equal etotal
variable myvol equal vol
variable mydensity equal density

# Use fix print to output
fix print_data all print 100 "${mystep} ${mytemp} ${myetotal} ${myvol} ${mydensity}" file number_data.txt screen no title "step temp tot_eng vol density"

dump mydump all atom 500 dump.lammpstrj

timestep 1.0
run 15000

write_restart water.restart